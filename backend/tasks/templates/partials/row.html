<tr class="border-b dark:border-gray-600">
    <td class="p-3 text-gray-900 dark:text-gray-100">{{ task.title }}</td>
    <td class="p-3">
        <form method="post" action="{% url 'update_task' task.id %}">
            {% csrf_token %}
            <select 
                name="status" 
                hx-post="{% url 'update_task' task.id %}" 
                hx-target="closest tr" 
                hx-swap="outerHTML" 
                class="border border-gray-300 rounded-md p-1 bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:focus:ring-gray-400"
                onchange="this.form.querySelector('button').disabled = (this.value === '{{ task.status }}')"
            >
                {% for value, label in status %}
                    <option value="{{ value }}" {% if task.status == value %}selected{% endif %}>{{ label }}</option>
                {% endfor %}
            </select>
    </td>
    <td class="p-3 text-gray-900 dark:text-gray-100">{{ task.created_at|date:"M d, Y" }}</td>
    <td class="p-3">
            <button 
                type="submit" 
                class="px-3 py-1 bg-gray-800 text-white rounded-full hover:bg-gray-700 transition-colors dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"
                disabled
            >
                Update
            </button>
        </form>
    </td>
</tr>